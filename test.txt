import java.util.ArrayList;  
import java.util.List;  
import java.util.Scanner;  
  
// 图书类  
class Book {  
    private String title;  
    private String author;  
    private String isbn;  
  
    public Book(String title, String author, String isbn) {  
        this.title = title;  
        this.author = author;  
        this.isbn = isbn;  
    }  
  
    public String getTitle() {  
        return title;  
    }  
  
    public String getAuthor() {  
        return author;  
    }  
  
    public String getIsbn() {  
        return isbn;  
    }  
  
    @Override  
    public String toString() {  
        return "Title: " + title + ", Author: " + author + ", ISBN: " + isbn;  
    }  
}  
  
// 图书管理系统类  
class LibraryManagementSystem {  
    private List<Book> library;  
  
    public LibraryManagementSystem() {  
        library = new ArrayList<>();  
    }  
  
    // 添加图书  
    public void addBook(Book book) {  
        library.add(book);  
        System.out.println("Book added successfully!");  
    }  
  
    // 删除图书  
    public void deleteBook(String isbn) {  
        library.removeIf(book -> book.getIsbn().equals(isbn));  
        System.out.println("Book deleted successfully or book not found!");  
    }  
  
    // 查看所有图书  
    public void viewBooks() {  
        if (library.isEmpty()) {  
            System.out.println("No books in the library.");  
        } else {  
            for (Book book : library) {  
                System.out.println(book);  
            }  
        }  
    }  
  
    // 搜索图书  
    public void searchBook(String title) {  
        for (Book book : library) {  
            if (book.getTitle().toLowerCase().contains(title.toLowerCase())) {  
                System.out.println(book);  
            }  
        }  
    }  
}  
// 主类  
public class Main {  
    public static void main(String[] args) {  
        LibraryManagementSystem librarySystem = new LibraryManagementSystem();  
        Scanner scanner = new Scanner(System.in);  
        int choice;  
  
        do {  
            System.out.println("1. Add Book");  
            System.out.println("2. Delete Book");  
            System.out.println("3. View All Books");  
            System.out.println("4. Search Book");  
            System.out.println("5. Exit");  
            System.out.print("Enter your choice: ");  
            choice = scanner.nextInt();  
            scanner.nextLine();  // Consume newline  
  
            switch (choice) {  
                case 1:  
                    System.out.print("Enter title: ");  
                    String title = scanner.nextLine();  
                    System.out.print("Enter author: ");  
                    String author = scanner.nextLine();  
                    System.out.print("Enter ISBN: ");  
                    String isbn = scanner.nextLine();  
                    librarySystem.addBook(new Book(title, author, isbn));  
                    break;  
                case 2:  
                    System.out.print("Enter ISBN of the book to delete: ");  
                    String deleteIsbn = scanner.nextLine();  
                    librarySystem.deleteBook(deleteIsbn);  
                    break;  
                case 3:  
                    librarySystem.viewBooks();  
                    break;  
                case 4:  
                    System.out.print("Enter title to search: ");  
                    String searchTitle = scanner.nextLine();  
                    librarySystem.searchBook(searchTitle);  
                    break;  
                case 5:  
                    System.out.println("Exiting...");  
                    break;  
                default:  
                    System.out.println("Invalid choice! Please try again.");  
            }  
        } while (choice != 5);  
  
        scanner.close();  
    }  
}